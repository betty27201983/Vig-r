(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-445921cc"],{"0b42":function(t,e,r){var a=r("da84"),i=r("e8b5"),c=r("68ee"),o=r("861d"),n=r("b622"),s=n("species"),d=a.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,c(e)&&(e===d||i(e.prototype))?e=void 0:o(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?d:e}},"1dde":function(t,e,r){var a=r("d039"),i=r("b622"),c=r("2d00"),o=i("species");t.exports=function(t){return c>=51||!a((function(){var e=[],r=e.constructor={};return r[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2532:function(t,e,r){"use strict";var a=r("23e7"),i=r("e330"),c=r("5a34"),o=r("1d80"),n=r("577e"),s=r("ab13"),d=i("".indexOf);a({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~d(n(o(this)),n(c(t)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,r){var a=r("861d"),i=r("c6b6"),c=r("b622"),o=c("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},"4de4":function(t,e,r){"use strict";var a=r("23e7"),i=r("b727").filter,c=r("1dde"),o=c("filter");a({target:"Array",proto:!0,forced:!o},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,r){var a=r("da84"),i=r("44e7"),c=a.TypeError;t.exports=function(t){if(i(t))throw c("The method doesn't accept regular expressions");return t}},"65f0":function(t,e,r){var a=r("0b42");t.exports=function(t,e){return new(a(t))(0===e?0:e)}},"694c":function(t,e,r){t.exports=r.p+"img/favorite.dc2e01c9.png"},8418:function(t,e,r){"use strict";var a=r("a04b"),i=r("9bf2"),c=r("5c6c");t.exports=function(t,e,r){var o=a(e);o in t?i.f(t,o,c(0,r)):t[o]=r}},a09f:function(t,e,r){"use strict";r.r(e);var a=r("7a23"),i=r("694c"),c=r.n(i),o=Object(a["i"])('<div class="loop-holder" style="top:83px;"><div class="loop-holder__text">Favorite - Favorite - Favorite - </div><div class="loop-holder__text">Favorite - Favorite - Favorite - </div><div class="loop-holder__text">Favorite - Favorite - Favorite - </div><div class="loop-holder__text">Favorite - Favorite - Favorite - </div></div>',1),n={class:"container notoTC pb-5"},s=Object(a["i"])('<p class="noto" style="margin-top:250px;"><a href="" class="me-3 text-decoration-none link-secondary">Home</a><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 0 16 16"><path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"></path></svg><span class="ms-3 fw-bold">Favorite</span></p><img class="img-fluid mb-5" src="'+c.a+'" alt="about">',2),d={key:0,class:"p-4 border border-white border-bottom-0 bg-table text-dark"},l=Object(a["h"])("p",{class:"text-center text-xl mb-6"},"目前沒有收藏商品，快去逛逛商店吧～",-1),u=Object(a["j"])(" 前往商店 "),b={key:1,class:"mb-5"},f=Object(a["h"])("tr",{class:"d-none d-md-flex row g-0 p-4 border border-white border-bottom-0 bg-table text-dark"},[Object(a["h"])("td",{class:"col-5"},"商品資料"),Object(a["h"])("td",{class:"col-2"},"價格"),Object(a["h"])("td",{class:"col-3"},"購買狀態"),Object(a["h"])("td",{class:"col-2"},"刪除")],-1),h={class:"col-5 col-md-5 mb-5 mb-md-0"},p={class:"d-flex align-items-center"},v=["src","alt"],g={class:"text-dark"},m={class:"col-3 col-md-2"},j={class:"d-flex d-md-block align-items-end"},O={class:"me-3 me-md-0"},x={key:0,class:"text-dark opacity-5 text-sm text-decoration-line-through"},y={class:"col-2 col-md-3"},F=["onClick","disabled"],w={key:0,class:"spinner-border spinner-border-sm",role:"status"},k=Object(a["h"])("span",{class:"visually-hidden"},"Loading...",-1),S=[k],C=Object(a["h"])("i",{class:"bi bi-cart2"},null,-1),$=Object(a["j"])(" 加入購物車 "),_={class:"col-2"},A=["onClick"],M=Object(a["h"])("i",{class:"bi bi-x-lg"},null,-1),T=Object(a["j"])(" 移除收藏 "),z=[M,T],D={class:"d-flex justify-content-end rounded-bottom bg-table border border-white p-6"},J=Object(a["h"])("span",null,"繼續瀏覽商品",-1);function N(t,e,r,i,c,k){var M=Object(a["H"])("router-link");return Object(a["z"])(),Object(a["g"])(a["a"],null,[o,Object(a["h"])("div",n,[s,c.myFavorite.length<=0?(Object(a["z"])(),Object(a["g"])("div",d,[l,Object(a["k"])(M,{to:"/item",class:"d-block w-25 mx-auto btn btn-outline-primary mb-5"},{default:Object(a["T"])((function(){return[u]})),_:1})])):(Object(a["z"])(),Object(a["g"])("table",b,[f,(Object(a["z"])(!0),Object(a["g"])(a["a"],null,Object(a["F"])(c.products,(function(e){return Object(a["z"])(),Object(a["g"])("tr",{key:e.id,class:"row g-0 border border-white align-items-center bg-table text-dark border-bottom-0 mb-3"},[Object(a["h"])("td",h,[Object(a["k"])(M,{to:"/product/".concat(e.id)},{default:Object(a["T"])((function(){return[Object(a["h"])("div",p,[Object(a["h"])("img",{class:"w-40 me-4 img-fluid w-50",src:e.imageUrl,alt:e.title},null,8,v),Object(a["h"])("h5",g,Object(a["K"])(e.title),1)])]})),_:2},1032,["to"])]),Object(a["h"])("td",m,[Object(a["h"])("div",j,[Object(a["h"])("p",O,"NT$"+Object(a["K"])(t.$filters.currency(e.price)),1),e.price!==e.origin_price?(Object(a["z"])(),Object(a["g"])("p",x," NT$"+Object(a["K"])(t.$filters.currency(e.origin_price)),1)):Object(a["f"])("",!0)])]),Object(a["h"])("td",y,[Object(a["h"])("button",{type:"button",class:"btn btn-primary btn-cart",onClick:Object(a["V"])((function(t){return k.addCart(e.id,1)}),["stop"]),disabled:c.loadingStatus.loadingCart===e.id},[c.loadingStatus.loadingCart===e.id?(Object(a["z"])(),Object(a["g"])("div",w,S)):Object(a["f"])("",!0),C,$],8,F)]),Object(a["h"])("td",_,[Object(a["h"])("button",{type:"button",onClick:Object(a["V"])((function(t){return k.removeFavorite(e)}),["stop","prevent"]),href:"#",class:"btn btn-danger"},z,8,A)])])})),128)),Object(a["h"])("tr",D,[Object(a["h"])("td",null,[Object(a["k"])(M,{to:"/item",class:"btn btn-dark btn-hover px-7"},{default:Object(a["T"])((function(){return[J]})),_:1})])])]))])],64)}r("4de4"),r("d3b7"),r("caad"),r("2532"),r("a434");var L=r("eddb"),P={data:function(){return{carts:{},myFavorite:L["a"].getFavorite()||[],products:"",isLoading:!1,loadingStatus:{}}},inject:["$httpMessageState","emitter"],methods:{getCart:function(){var t=this,e="/api/".concat("betty-api","/cart");this.$http.get(e).then((function(e){e.data.success?t.carts=e.data.data:t.$httpMessageState(e,"取得購物車列表")})).catch((function(e){t.$httpMessageState(e,"連線錯誤")}))},addCart:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="/api/".concat("betty-api","/cart"),i={product_id:t,qty:r};this.loadingStatus.loadingCart=t,this.$http.post(a,{data:i}).then((function(t){t.data.success?(e.$httpMessageState(t,"加入購物車"),e.emitter.emit("update-cart"),e.loadingStatus.loadingCart=""):e.$httpMessageState(t,"加入購物車")})).catch((function(t){e.loadingStatus.loadingCart="",e.$httpMessageState(t,"連線錯誤")}))},getFavorite:function(){this.myFavorite=L["a"].getFavorite(),this.getAllProducts()},getAllProducts:function(){var t=this,e="/api/".concat("betty-api","/products/all");this.$http.get(e).then((function(e){e.data.success?t.products=e.data.products.filter((function(e){return t.myFavorite.includes(e.id)})):t.$httpMessageState(e,"取得全部產品資料")})).catch((function(e){t.$httpMessageState(e,"連線錯誤")}))},removeFavorite:function(t){this.isLoading=!0,this.myFavorite.splice(this.myFavorite.indexOf(t.id),1),this.$httpMessageState({data:{success:!0,message:"已將 ".concat(t.title," 移除收藏")}},"移除收藏"),L["a"].storeFavorite(this.myFavorite),this.emitter.emit("update-favorite"),this.isLoading=!1}},mounted:function(){this.$http.defaults.baseURL="https://vue3-course-api.hexschool.io/",this.emitter.on("update-cart",this.getCart),this.emitter.on("update-favorite",this.getFavorite),this.getCart(),this.getAllProducts()},unmounted:function(){this.emitter.off("update-cart",this.getCart),this.emitter.off("update-favorite",this.getFavorite)}},E=r("6b0d"),B=r.n(E);const I=B()(P,[["render",N]]);e["default"]=I},a434:function(t,e,r){"use strict";var a=r("23e7"),i=r("da84"),c=r("23cb"),o=r("5926"),n=r("07fa"),s=r("7b0b"),d=r("65f0"),l=r("8418"),u=r("1dde"),b=u("splice"),f=i.TypeError,h=Math.max,p=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!b},{splice:function(t,e){var r,a,i,u,b,m,j=s(this),O=n(j),x=c(t,O),y=arguments.length;if(0===y?r=a=0:1===y?(r=0,a=O-x):(r=y-2,a=p(h(o(e),0),O-x)),O+r-a>v)throw f(g);for(i=d(j,a),u=0;u<a;u++)b=x+u,b in j&&l(i,u,j[b]);if(i.length=a,r<a){for(u=x;u<O-a;u++)b=u+a,m=u+r,b in j?j[m]=j[b]:delete j[m];for(u=O;u>O-a+r;u--)delete j[u-1]}else if(r>a)for(u=O-a;u>x;u--)b=u+a-1,m=u+r-1,b in j?j[m]=j[b]:delete j[m];for(u=0;u<r;u++)j[u+x]=arguments[u+2];return j.length=O-a+r,i}})},ab13:function(t,e,r){var a=r("b622"),i=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[i]=!1,"/./"[t](e)}catch(a){}}return!1}},b727:function(t,e,r){var a=r("0366"),i=r("e330"),c=r("44ad"),o=r("7b0b"),n=r("07fa"),s=r("65f0"),d=i([].push),l=function(t){var e=1==t,r=2==t,i=3==t,l=4==t,u=6==t,b=7==t,f=5==t||u;return function(h,p,v,g){for(var m,j,O=o(h),x=c(O),y=a(p,v),F=n(x),w=0,k=g||s,S=e?k(h,F):r||b?k(h,0):void 0;F>w;w++)if((f||w in x)&&(m=x[w],j=y(m,w,O),t))if(e)S[w]=j;else if(j)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:d(S,m)}else switch(t){case 4:return!1;case 7:d(S,m)}return u?-1:i||l?l:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},caad:function(t,e,r){"use strict";var a=r("23e7"),i=r("4d64").includes,c=r("44d2");a({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),c("includes")},e8b5:function(t,e,r){var a=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},e9c4:function(t,e,r){var a=r("23e7"),i=r("da84"),c=r("d066"),o=r("2ba4"),n=r("e330"),s=r("d039"),d=i.Array,l=c("JSON","stringify"),u=n(/./.exec),b=n("".charAt),f=n("".charCodeAt),h=n("".replace),p=n(1..toString),v=/[\uD800-\uDFFF]/g,g=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,j=function(t,e,r){var a=b(r,e-1),i=b(r,e+1);return u(g,t)&&!u(m,i)||u(m,t)&&!u(g,a)?"\\u"+p(f(t,0),16):t},O=s((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&a({target:"JSON",stat:!0,forced:O},{stringify:function(t,e,r){for(var a=0,i=arguments.length,c=d(i);a<i;a++)c[a]=arguments[a];var n=o(l,null,c);return"string"==typeof n?h(n,v,j):n}})},eddb:function(t,e,r){"use strict";r("e9c4");e["a"]={storeFavorite:function(t){var e=JSON.stringify(t);localStorage.setItem("favoriteProduct",e)},getFavorite:function(){return JSON.parse(localStorage.getItem("favoriteProduct"))}}}}]);
//# sourceMappingURL=chunk-445921cc.337ecb5f.js.map