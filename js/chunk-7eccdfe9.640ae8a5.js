(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7eccdfe9"],{"0b42":function(e,t,a){var r=a("da84"),o=a("e8b5"),c=a("68ee"),s=a("861d"),n=a("b622"),i=n("species"),l=r.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,c(t)&&(t===l||o(t.prototype))?t=void 0:s(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?l:t}},"1dde":function(e,t,a){var r=a("d039"),o=a("b622"),c=a("2d00"),s=o("species");e.exports=function(e){return c>=51||!r((function(){var t=[],a=t.constructor={};return a[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,a){var r=a("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},8418:function(e,t,a){"use strict";var r=a("a04b"),o=a("9bf2"),c=a("5c6c");e.exports=function(e,t,a){var s=r(t);s in e?o.f(e,s,c(0,a)):e[s]=a}},"99af":function(e,t,a){"use strict";var r=a("23e7"),o=a("da84"),c=a("d039"),s=a("e8b5"),n=a("861d"),i=a("7b0b"),l=a("07fa"),d=a("8418"),u=a("65f0"),b=a("1dde"),m=a("b622"),f=a("2d00"),h=m("isConcatSpreadable"),p=9007199254740991,j="Maximum allowed index exceeded",O=o.TypeError,v=f>=51||!c((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),g=b("concat"),y=function(e){if(!n(e))return!1;var t=e[h];return void 0!==t?!!t:s(e)},x=!v||!g;r({target:"Array",proto:!0,forced:x},{concat:function(e){var t,a,r,o,c,s=i(this),n=u(s,0),b=0;for(t=-1,r=arguments.length;t<r;t++)if(c=-1===t?s:arguments[t],y(c)){if(o=l(c),b+o>p)throw O(j);for(a=0;a<o;a++,b++)a in c&&d(n,b,c[a])}else{if(b>=p)throw O(j);d(n,b++,c)}return n.length=b,n}})},b0c0:function(e,t,a){var r=a("83ab"),o=a("5e77").EXISTS,c=a("e330"),s=a("9bf2").f,n=Function.prototype,i=c(n.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=c(l.exec),u="name";r&&!o&&s(n,u,{configurable:!0,get:function(){try{return d(l,i(this))[1]}catch(e){return""}}})},cb07:function(e,t,a){"use strict";a.r(t);a("b0c0");var r=a("7a23"),o={class:"container notoTC",style:{"margin-top":"133px","margin-bottom":"80px"}},c=Object(r["h"])("div",{class:"position-relative m-5"},[Object(r["h"])("div",{class:"progress",style:{height:"1px"}},[Object(r["h"])("div",{class:"progress-bar",role:"progressbar",style:{width:"50%"},"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})]),Object(r["h"])("div",{class:"position-absolute top-0 start-0 translate-middle bg-primary text-center p-1 text-white rounded-pill",style:{width:"2rem",height:"2rem"}},"1"),Object(r["h"])("div",{class:"position-absolute top-0 start-50 translate-middle bg-primary text-center p-1 text-white rounded-pill",style:{width:"2rem",height:"2rem"}},"2"),Object(r["h"])("div",{class:"position-absolute top-0 start-100 translate-middle bg-secondary text-center p-1 text-white rounded-pill",style:{width:"2rem",height:"2rem"}},"3")],-1),s=Object(r["h"])("h2",null,[Object(r["h"])("i",{class:"bi bi-brush-fill pe-2"}),Object(r["j"])("購物車"),Object(r["h"])("span",{class:"fs-6 text-muted"},"/填寫資料")],-1),n={class:"my-5 row justify-content-center"},i={class:"mb-3"},l=Object(r["h"])("label",{for:"email",class:"form-label"},"Email",-1),d={class:"mb-3"},u=Object(r["h"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),b={class:"mb-3"},m=Object(r["h"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),f={class:"mb-3"},h=Object(r["h"])("label",{for:"address",class:"form-label"},"收件人地址",-1),p={class:"mb-3"},j=Object(r["h"])("label",{for:"message",class:"form-label"},"留言",-1),O={class:"text-end"},v=Object(r["h"])("i",{class:"bi bi-caret-left-fill"},null,-1),g=Object(r["j"])(" 上一步 "),y=Object(r["h"])("button",{class:"btn btn-danger"},[Object(r["h"])("i",{class:"bi bi-check-lg"}),Object(r["j"])(" 送出訂單 ")],-1);function x(e,t,a,x,k,w){var V=Object(r["H"])("Loading"),L=Object(r["H"])("Field"),S=Object(r["H"])("ErrorMessage"),U=Object(r["H"])("router-link"),$=Object(r["H"])("Form");return Object(r["z"])(),Object(r["g"])(r["a"],null,[Object(r["k"])(V,{active:k.isLoading},null,8,["active"]),Object(r["h"])("div",o,[c,s,Object(r["h"])("div",n,[Object(r["k"])($,{class:"col-md-10",onSubmit:w.createOrder},{default:Object(r["T"])((function(e){var a=e.errors;return[Object(r["h"])("div",i,[l,Object(r["k"])(L,{id:"email",name:"email",type:"email",class:Object(r["s"])(["form-control",{"is-invalid":a["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:k.form.user.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return k.form.user.email=e})},null,8,["class","modelValue"]),Object(r["k"])(S,{name:"email",class:"invalid-feedback"})]),Object(r["h"])("div",d,[u,Object(r["k"])(L,{id:"name",name:"姓名",type:"text",class:Object(r["s"])(["form-control",{"is-invalid":a["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:k.form.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return k.form.user.name=e})},null,8,["class","modelValue"]),Object(r["k"])(S,{name:"姓名",class:"invalid-feedback"})]),Object(r["h"])("div",b,[m,Object(r["k"])(L,{id:"tel",name:"電話",type:"tel",class:Object(r["s"])(["form-control",{"is-invalid":a["電話"]}]),placeholder:"請輸入電話",rules:"required",modelValue:k.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return k.form.user.tel=e})},null,8,["class","modelValue"]),Object(r["k"])(S,{name:"電話",class:"invalid-feedback"})]),Object(r["h"])("div",f,[h,Object(r["k"])(L,{id:"address",name:"地址",type:"text",class:Object(r["s"])(["form-control",{"is-invalid":a["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:k.form.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return k.form.user.address=e})},null,8,["class","modelValue"]),Object(r["k"])(S,{name:"地址",class:"invalid-feedback"})]),Object(r["h"])("div",p,[j,Object(r["U"])(Object(r["h"])("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[4]||(t[4]=function(e){return k.form.message=e})},null,512),[[r["O"],k.form.message]])]),Object(r["h"])("div",O,[Object(r["k"])(U,{class:"btn btn-outline-primary me-3",to:"/cart"},{default:Object(r["T"])((function(){return[v,g]})),_:1}),y])]})),_:1},8,["onSubmit"])])])],64)}a("99af");var k={data:function(){return{products:[],cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""},isLoading:!1}},inject:["$httpMessageState","emitter"],methods:{getProducts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("betty-api","/products/all");this.isLoading=!0,this.$http.get(t).then((function(t){e.products=t.data.products,console.log("products:",t),e.isLoading=!1}))},getCart:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("betty-api","/cart");this.isLoading=!0,this.$http.get(t).then((function(t){console.log(t),e.cart=t.data.data,e.isLoading=!1}))},createOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("betty-api","/order"),a=this.form;this.isLoading=!0,this.$http.post(t,{data:a}).then((function(t){console.log(t),e.isLoading=!1;var a=t.data.orderId;e.$router.push("/checkout/".concat(a))})).catch((function(t){e.$httpMessageState(t,"連線錯誤"),e.isLoading=!1}))}},mounted:function(){this.getProducts(),this.getCart()}},w=a("6b0d"),V=a.n(w);const L=V()(k,[["render",x]]);t["default"]=L},e8b5:function(e,t,a){var r=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}}}]);
//# sourceMappingURL=chunk-7eccdfe9.640ae8a5.js.map