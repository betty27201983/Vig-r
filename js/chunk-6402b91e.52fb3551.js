(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6402b91e"],{"0b42":function(t,e,r){var c=r("da84"),n=r("e8b5"),o=r("68ee"),a=r("861d"),i=r("b622"),s=i("species"),l=c.Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,o(e)&&(e===l||n(e.prototype))?e=void 0:a(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?l:e}},"1dde":function(t,e,r){var c=r("d039"),n=r("b622"),o=r("2d00"),a=n("species");t.exports=function(t){return o>=51||!c((function(){var e=[],r=e.constructor={};return r[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,r){var c=r("0b42");t.exports=function(t,e){return new(c(t))(0===e?0:e)}},"7cb4":function(t,e,r){"use strict";r.r(e);r("b0c0");var c=r("7a23"),n={class:"container notoTC",style:{"margin-top":"133px","margin-bottom":"100px"}},o=Object(c["h"])("div",{class:"position-relative m-5"},[Object(c["h"])("div",{class:"progress",style:{height:"1px"}},[Object(c["h"])("div",{class:"progress-bar",role:"progressbar",style:{width:"100%"},"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"})]),Object(c["h"])("div",{class:"position-absolute top-0 start-0 translate-middle bg-primary text-center p-1 text-white rounded-pill",style:{width:"2rem",height:"2rem"}},"1"),Object(c["h"])("div",{class:"position-absolute top-0 start-50 translate-middle bg-primary text-center p-1 text-white rounded-pill",style:{width:"2rem",height:"2rem"}},"2"),Object(c["h"])("div",{class:"position-absolute top-0 start-100 translate-middle bg-primary text-center p-1 text-white rounded-pill",style:{width:"2rem",height:"2rem"}},"3")],-1),a=Object(c["h"])("h2",null,[Object(c["h"])("i",{class:"bi bi-clipboard-check-fill pe-2"}),Object(c["j"])("購物車"),Object(c["h"])("span",{class:"fs-6 text-muted"},"/確認訂單並付款")],-1),i={class:"row justify-content-center"},s={class:"table align-middle"},l=Object(c["h"])("thead",null,[Object(c["h"])("th",null,"品名"),Object(c["h"])("th",null,"數量"),Object(c["h"])("th",null,"單價")],-1),d={class:"text-end"},u=Object(c["h"])("td",{colspan:"2",class:"text-end"},"總計",-1),b={class:"text-end"},h={class:"table"},O=Object(c["h"])("th",{width:"100"},"Email",-1),p=Object(c["h"])("th",null,"姓名",-1),j=Object(c["h"])("th",null,"收件人電話",-1),f=Object(c["h"])("th",null,"收件人地址",-1),v=Object(c["h"])("th",null,"付款狀態",-1),g={key:0},y={key:1,class:"text-success"},m={key:0,class:"text-end"},x=Object(c["h"])("button",{class:"btn btn-danger"},"確認付款去",-1),w=[x];function k(t,e,r,x,k,K){var I=Object(c["H"])("Loading");return Object(c["z"])(),Object(c["g"])(c["a"],null,[Object(c["k"])(I,{active:k.isLoading},null,8,["active"]),Object(c["h"])("div",n,[o,a,Object(c["h"])("div",i,[Object(c["h"])("form",{class:"col-md-6",onSubmit:e[0]||(e[0]=Object(c["V"])((function(){return K.payOrder&&K.payOrder.apply(K,arguments)}),["prevent"]))},[Object(c["h"])("table",s,[l,Object(c["h"])("tbody",null,[(Object(c["z"])(!0),Object(c["g"])(c["a"],null,Object(c["F"])(k.order.products,(function(t){return Object(c["z"])(),Object(c["g"])("tr",{key:t.id},[Object(c["h"])("td",null,Object(c["K"])(t.product.title),1),Object(c["h"])("td",null,Object(c["K"])(t.qty)+"/"+Object(c["K"])(t.product.unit),1),Object(c["h"])("td",d,Object(c["K"])(t.final_total),1)])})),128))]),Object(c["h"])("tfoot",null,[Object(c["h"])("tr",null,[u,Object(c["h"])("td",b,Object(c["K"])(k.order.total),1)])])]),Object(c["h"])("table",h,[Object(c["h"])("tbody",null,[Object(c["h"])("tr",null,[O,Object(c["h"])("td",null,Object(c["K"])(k.order.user.email),1)]),Object(c["h"])("tr",null,[p,Object(c["h"])("td",null,Object(c["K"])(k.order.user.name),1)]),Object(c["h"])("tr",null,[j,Object(c["h"])("td",null,Object(c["K"])(k.order.user.tel),1)]),Object(c["h"])("tr",null,[f,Object(c["h"])("td",null,Object(c["K"])(k.order.user.address),1)]),Object(c["h"])("tr",null,[v,Object(c["h"])("td",null,[k.order.is_paid?(Object(c["z"])(),Object(c["g"])("span",y,"付款完成")):(Object(c["z"])(),Object(c["g"])("span",g,"尚未付款"))])])])]),!1===k.order.is_paid?(Object(c["z"])(),Object(c["g"])("div",m,w)):Object(c["f"])("",!0)],32)])])],64)}r("99af");var K={data:function(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("betty-api","/order/").concat(this.orderId);this.$http.get(e).then((function(e){e.data.success&&(t.order=e.data.order,console.log(t.order))}))},payOrder:function(){var t=this,e=this.$route.params.orderId,r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("betty-api","/pay/").concat(this.orderId);this.$http.post(r).then((function(r){console.log(r),r.data.success&&t.getOrder(),t.$router.push({path:"/checkoutSuccess/".concat(e)})}))}},created:function(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},I=r("6b0d"),S=r.n(I);const z=S()(K,[["render",k]]);e["default"]=z},8418:function(t,e,r){"use strict";var c=r("a04b"),n=r("9bf2"),o=r("5c6c");t.exports=function(t,e,r){var a=c(e);a in t?n.f(t,a,o(0,r)):t[a]=r}},"99af":function(t,e,r){"use strict";var c=r("23e7"),n=r("da84"),o=r("d039"),a=r("e8b5"),i=r("861d"),s=r("7b0b"),l=r("07fa"),d=r("8418"),u=r("65f0"),b=r("1dde"),h=r("b622"),O=r("2d00"),p=h("isConcatSpreadable"),j=9007199254740991,f="Maximum allowed index exceeded",v=n.TypeError,g=O>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),y=b("concat"),m=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:a(t)},x=!g||!y;c({target:"Array",proto:!0,forced:x},{concat:function(t){var e,r,c,n,o,a=s(this),i=u(a,0),b=0;for(e=-1,c=arguments.length;e<c;e++)if(o=-1===e?a:arguments[e],m(o)){if(n=l(o),b+n>j)throw v(f);for(r=0;r<n;r++,b++)r in o&&d(i,b,o[r])}else{if(b>=j)throw v(f);d(i,b++,o)}return i.length=b,i}})},b0c0:function(t,e,r){var c=r("83ab"),n=r("5e77").EXISTS,o=r("e330"),a=r("9bf2").f,i=Function.prototype,s=o(i.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=o(l.exec),u="name";c&&!n&&a(i,u,{configurable:!0,get:function(){try{return d(l,s(this))[1]}catch(t){return""}}})},e8b5:function(t,e,r){var c=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}}}]);
//# sourceMappingURL=chunk-6402b91e.52fb3551.js.map